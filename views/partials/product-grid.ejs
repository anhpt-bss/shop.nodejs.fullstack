<div class="product-main">

  <h2 class="title">Sản Phẩm</h2>

  <div class="product-grid">

    <% products.forEach((product) => { %>
    <div class="showcase">

      <div class="showcase-banner">

        <img src="<%= product.imagePath %>" alt="<%= product.title %>" width="300" class="product-img default">
        <img src="<%= product.imagePath %>" alt="<%= product.title %>" width="300" class="product-img hover">

        <% if(product.discount && product.discount > 0) { %>
          <p class="showcase-badge"><%= product.discount %>%</p>
        <% } %>

        <div class="showcase-actions">

          <button class="btn-action">
            <ion-icon name="heart-outline"></ion-icon>
          </button>

          <button class="btn-action">
            <ion-icon name="eye-outline"></ion-icon>
          </button>

          <button class="btn-action">
            <ion-icon name="repeat-outline"></ion-icon>
          </button>

          <button class="btn-action">
            <a href="/add-to-cart/<%=product._id%>">
              <ion-icon name="bag-add-outline"></ion-icon>
            </a>
          </button>

        </div>

      </div>

      <div class="showcase-content">

        <a href="/products/<%=product.category.slug%>" class="showcase-category"><%=product.category.title%></a>

        <a href="/products/<%=product.category.slug%>/<%=product._id%>">
          <h3 class="showcase-title"><%= product.title %></h3>
        </a>

        <div class="showcase-rating">
          <% for (let i = 1; i <= 5; i++) { %>
            <% if (product.rating >= i) { %>
              <% if (i < product.rating && product.rating < i + 1) { %>
                <ion-icon name="star-half-outline"></ion-icon>
              <% } else { %>
                <ion-icon name="star"></ion-icon>
              <% } %>
            <% } else { %>
              <ion-icon name="star-outline"></ion-icon>
            <% } %>
          <% } %>
        </div>

        <div class="price-box">
          <% if (product.discount && product.discount> 0) { %>
            <span class="price">
              <%=helper.addCommasToNumber(product.price - (product.price * (product.discount / 100)))%>
            </span>
            <del>
              <%= helper.addCommasToNumber(product.price) %>
            </del>
            <% } else { %>
              <span class="price">
                <%=helper.addCommasToNumber(product.price)%>
              </span>
              <% } %>
        </div>

        <% if(product.available <= 0) {%>
        <span class="text-danger">
          Hết Hàng
        </span>
        <%} %>

      </div>

    </div>
    <% }) %>

  </div>

</div>